<MainWindow>:
    label_folder_name: label_folder_name_id
    label_total_images: label_total_images_id
    label_est_time: label_est_time_id
    layout_image: layout_image_id
    main_view: main_view_id

    GridLayout:
        cols:2
        padding: 10
        spacing: 10

        BoxLayout:
            size_hint: (0.9,0.9)
            id: main_view_id
            Image:
                source: 'intro.png'
                allow_stretch: True

            
        BoxLayout:
            size_hint_x: None
            width: 250
            orientation: 'vertical'
            spacing: 5

            Button:
                size_hint_y: None
                height: 50
                text: 'Open new project'
                on_release: root.newProject()

            BoxLayout:
                orientation: 'vertical'
                spacing: 5
                size_hint_y: 2
                canvas.before:
                    Color:
                        rgba: 0.3, 0.27, 0.27, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size

                Label:
                    text: 'Project folder:'
                Label:
                    id: label_folder_name_id
                    text: 'Folder_name'
                Label:
                    text: 'Total images:'
                Label:
                    id: label_total_images_id
                    text: 'Total_images'
                Label:
                    text: 'Estimated time to analyse:'
                Label:
                    id: label_est_time_id
                    text: 'Estimated_time'
                Label:
                    text: 'Number of groups:'
                TextInput:
                    text: '5'
                    multiline: False
                Button:
                    size_hint_y: None
                    height: 50
                    text: 'Analyse photos'
                    on_release: root.startAnalysis()

            BoxLayout:
                orientation: 'vertical'
                spacing: 5
                canvas.before:
                    Color:
                        rgba: 0.3, 0.27, 0.27, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size

                BoxLayout:
                    Image:
                        id: layout_image_id
                        source: 'group4.png'
                        allow_stretch: True
                    Button:
                        text: 'Choose Layout'
                        on_release: root.chooseLayout()

                Button:
                    size_hint_y: None
                    height: 50
                    text: 'Make collage'
                    on_release: root.startClustering()

            Button:
                size_hint_y: None
                height: 50
                text: 'Save the collage'
                on_release: root.saveCollage()

<OpenDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: 'vertical'
        FileChooserIconView:
            id: filechooser
            path: root.home_dir()
            filters: [root.is_dir]

        BoxLayout:
            size_hint_y: None
            height: 50
            Button:
                text: 'Cancel'
                on_release: root.cancel()

            Button:
                text: 'Open'
                on_release: root.select(filechooser.path, filechooser.selection)

<ChooseLayout>:
    BoxLayout:
        size: root.size
        pos: root.pos
        Button:
            on_release: root.getLayout(2)
            Image:
                source: 'group2.png'
                x: self.parent.x + 0.1*self.parent.width 
                y: self.parent.y + self.parent.height-1.1*self.parent.width
                size: 0.8*self.parent.width, 0.8*self.parent.width
                allow_stretch: True
                
        Button:
            on_release: root.getLayout(3)
            Image:
                source: 'group3.png'
                x: self.parent.x + 0.1*self.parent.width 
                y: self.parent.y + self.parent.height-1.1*self.parent.width
                size: 0.8*self.parent.width, 0.8*self.parent.width
                allow_stretch: True
        Button:
            on_release: root.getLayout(4)
            Image:
                source: 'group4.png'
                x: self.parent.x + 0.1*self.parent.width 
                y: self.parent.y + self.parent.height-1.1*self.parent.width
                size: 0.8*self.parent.width, 0.8*self.parent.width
                allow_stretch: True
        Button:
            on_release: root.getLayout(6)
            Image:
                source: 'group6.png'
                x: self.parent.x + 0.1*self.parent.width 
                y: self.parent.y + self.parent.height-1.1*self.parent.width
                size: 0.8*self.parent.width, 0.8*self.parent.width
                allow_stretch: True
        Button:
            on_release: root.getLayout(9)
            Image:
                source: 'group9.png'
                x: self.parent.x + 0.1*self.parent.width 
                y: self.parent.y + self.parent.height-1.1*self.parent.width
                size: 0.8*self.parent.width, 0.8*self.parent.width
                allow_stretch: True
